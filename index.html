<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Mapbox Example</title>
  <meta name='viewport' content='width=device-width, initial-scale=1' />
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css' rel='stylesheet' />
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>
<body>

<div id='map'></div>

<script>
  mapboxgl.accessToken = 'pk.eyJ1IjoiYXJ0ZG95MyIsImEiOiJjbG96bWhmZzQwMXNoMmxxdmVqc2c2ZWRmIn0._PxpDHic5ZbhSndCkiVzIg';

  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11', // Use the Mapbox Streets style as an example
    center: [longitude, latitude],
    zoom: zoomLevel
  });

  // Example data with categories
  var markers = [
    {
      category: 'Category1',
      coordinates: [longitude1, latitude1],
      popupContent: 'Popup content for Category1'
    },
    {
      category: 'Category2',
      coordinates: [longitude2, latitude2],
      popupContent: 'Popup content for Category2'
    }
    // Add more markers as needed
  ];

  markers.forEach(function (marker) {
    // Customize marker based on category
    var customMarker = new mapboxgl.Marker({ color: getMarkerColor(marker.category) })
      .setLngLat(marker.coordinates)
      .setPopup(new mapboxgl.Popup().setHTML(marker.popupContent))
      .addTo(map);
  });

  function getMarkerColor(category) {
    // Customize marker color based on category
    if (category === 'Category1') {
      return 'blue';
    } else if (category === 'Category2') {
      return 'red';
    } else {
      return 'green'; // Default color for other categories
    }
  }
</script>

</body>
</html>
